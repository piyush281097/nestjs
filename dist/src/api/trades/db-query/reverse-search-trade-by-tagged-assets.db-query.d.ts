export declare const reverseSearchTradeByTaggedAssetDbQuery = "\nWITH select_trade_ids as (\n    SELECT id from master_assets where symbol = $4 ORDER BY last_updated DESC \n    OFFSET $2 LIMIT $1\n)\nselect tm.id                                                           as trade_id,\n       tm.content                                                      as content,\n       tm.type                                                         as type,\n       count(DISTINCT pl.id) FILTER (WHERE pl.id IS NOT NULL)::integer as likes,\n       count(DISTINCT tc.id) FILTER (WHERE tc.id IS NOT NULL)::integer as comments,\n       case when pl2.id is not null then true else false end           as is_liked,\n       jsonb_build_object(\n               'user_id', uc2.id,\n               'user_handle', uc2.user_handle,\n               'first_name', up2.first_name,\n               'last_name', up2.last_name\n           )                                                           as created_by,\n       json_agg(\n       DISTINCT jsonb_build_object(\n               'asset_id', tm.asset_id,\n               'symbol', ma.symbol)\n           ) FILTER (WHERE tm.asset_id IS NOT NULL)                    AS tagged_assets\nfrom trades_master tm\n         left join tagged_users tu on tm.id = tu.trade_id\n         left join user_core uc on uc.id = tu.user_id\n         left join user_profile up on uc.id = up.user_id\n         left join user_core uc2 on uc2.id = tm.user_id\n         left join user_profile up2 on uc2.id = up2.user_id\n         left join master_assets ma on tm.asset_id = ma.id\n         left join trades_likes pl on pl.trade_id = tm.id AND pl.is_deleted = FALSE\n         left join trades_likes pl2 on pl2.trade_id = tm.id AND pl2.is_deleted = FALSE AND pl2.user_id = $3\n         left join trades_comments tc on tc.trade_id = tm.id AND tc.is_deleted = FALSE AND tc.parent_comment_id is NULL\nWHERE tm.is_deleted = FALSE -- user_where_condition\nAND tm.asset_id IN (select id from select_trade_ids)\ngroup by tm.id, uc2.id, uc2.user_handle, up2.first_name, up2.last_name, pl2.id\nORDER BY tm.last_updated DESC\nOFFSET $2 LIMIT $1;\n";
